<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>coreJS-app</title>
    <meta name="description" content="coreJS App Documentation" />
    <meta name="keywords" content="corejs-app" />
    <meta name="keyword" content="corejs-app" />
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:url" content=""/>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"coreJS-app","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"coreJS-app","description":"coreJS App Documentation","keyword":"corejs-app"}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">coreJS-app</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="app">
            <span class="title">
                <a href="app.html">app</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.root"><a href="app.html#root">root</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.jst">
            <span class="title">
                <a href="app.jst.html">app.jst</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.services">
            <span class="title">
                <a href="app.services.html">app.services</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.services.arrayScopesToString"><a href="app.services.html#arrayScopesToString">arrayScopesToString</a></li>
            
                <li data-name="app.services.isCrossDomain"><a href="app.services.html#isCrossDomain">isCrossDomain</a></li>
            
                <li data-name="app.services.request"><a href="app.services.html#request">request</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.services.method">
            <span class="title">
                <a href="app.services.method.html">app.services.method</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.services.method.DELETE"><a href="app.services.method.html#DELETE">DELETE</a></li>
            
                <li data-name="app.services.method.GET"><a href="app.services.method.html#GET">GET</a></li>
            
                <li data-name="app.services.method.HEAD"><a href="app.services.method.html#HEAD">HEAD</a></li>
            
                <li data-name="app.services.method.OPTIONS"><a href="app.services.method.html#OPTIONS">OPTIONS</a></li>
            
                <li data-name="app.services.method.PATCH"><a href="app.services.method.html#PATCH">PATCH</a></li>
            
                <li data-name="app.services.method.POST"><a href="app.services.method.html#POST">POST</a></li>
            
                <li data-name="app.services.method.PUT"><a href="app.services.method.html#PUT">PUT</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.session">
            <span class="title">
                <a href="app.session.html">app.session</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.session.STATUS_SELECTOR"><a href="app.session.html#STATUS_SELECTOR">STATUS_SELECTOR</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.session.add"><a href="app.session.html#add">add</a></li>
            
                <li data-name="app.session.destroy"><a href="app.session.html#destroy">destroy</a></li>
            
                <li data-name="app.session.exist"><a href="app.session.html#exist">exist</a></li>
            
                <li data-name="app.session.gatekeeper"><a href="app.session.html#gatekeeper">gatekeeper</a></li>
            
                <li data-name="app.session.get"><a href="app.session.html#get">get</a></li>
            
                <li data-name="app.session.isPersistent"><a href="app.session.html#isPersistent">isPersistent</a></li>
            
                <li data-name="app.session.logged"><a href="app.session.html#logged">logged</a></li>
            
                <li data-name="app.session.removeStatus"><a href="app.session.html#removeStatus">removeStatus</a></li>
            
                <li data-name="app.session.setPersistent"><a href="app.session.html#setPersistent">setPersistent</a></li>
            
                <li data-name="app.session.setStatus"><a href="app.session.html#setStatus">setStatus</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.user">
            <span class="title">
                <a href="app.user.html">app.user</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.user.login"><a href="app.user.html#login">login</a></li>
            
                <li data-name="app.user.loginToken"><a href="app.user.html#loginToken">loginToken</a></li>
            
                <li data-name="app.user.logout"><a href="app.user.html#logout">logout</a></li>
            
                <li data-name="app.user.me"><a href="app.user.html#me">me</a></li>
            
                <li data-name="app.user.register"><a href="app.user.html#register">register</a></li>
            
                <li data-name="app.user.registerIAM"><a href="app.user.html#registerIAM">registerIAM</a></li>
            
                <li data-name="app.user.remove"><a href="app.user.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.user.statusCode">
            <span class="title">
                <a href="app.user.statusCode.html">app.user.statusCode</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.user.statusCode.USER_EXIST"><a href="app.user.statusCode.html#USER_EXIST">USER_EXIST</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.utils">
            <span class="title">
                <a href="app.utils.html">app.utils</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.utils.isIE8"><a href="app.utils.html#isIE8">isIE8</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.utils.getCenteredPopup"><a href="app.utils.html#getCenteredPopup">getCenteredPopup</a></li>
            
                <li data-name="app.utils.getHashParams"><a href="app.utils.html#getHashParams">getHashParams</a></li>
            
                <li data-name="app.utils.getQueryParams"><a href="app.utils.html#getQueryParams">getQueryParams</a></li>
            
                <li data-name="app.utils.popup"><a href="app.utils.html#popup">popup</a></li>
            
                <li data-name="app.utils.redirect"><a href="app.utils.html#redirect">redirect</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.utils.isMobile">
            <span class="title">
                <a href="app.utils.isMobile.html">app.utils.isMobile</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.utils.isMobile.Android"><a href="app.utils.isMobile.html#Android">Android</a></li>
            
                <li data-name="app.utils.isMobile.any"><a href="app.utils.isMobile.html#any">any</a></li>
            
                <li data-name="app.utils.isMobile.BlackBerry"><a href="app.utils.isMobile.html#BlackBerry">BlackBerry</a></li>
            
                <li data-name="app.utils.isMobile.iOS"><a href="app.utils.isMobile.html#iOS">iOS</a></li>
            
                <li data-name="app.utils.isMobile.Opera"><a href="app.utils.isMobile.html#Opera">Opera</a></li>
            
                <li data-name="app.utils.isMobile.Windows"><a href="app.utils.isMobile.html#Windows">Windows</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.validate">
            <span class="title">
                <a href="app.validate.html">app.validate</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.validate.isDefined"><a href="app.validate.html#isDefined">isDefined</a></li>
            
                <li data-name="app.validate.isGreaterThan"><a href="app.validate.html#isGreaterThan">isGreaterThan</a></li>
            
                <li data-name="app.validate.isGreaterThanOrEqual"><a href="app.validate.html#isGreaterThanOrEqual">isGreaterThanOrEqual</a></li>
            
                <li data-name="app.validate.isNotNull"><a href="app.validate.html#isNotNull">isNotNull</a></li>
            
                <li data-name="app.validate.isValue"><a href="app.validate.html#isValue">isValue</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="common">
            <span class="title">
                <a href="common.html">common</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="common.serializeParams"><a href="common.html#serializeParams">serializeParams</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec">
            <span class="title">
                <a href="ec.html">ec</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.order"><a href="ec.html#order">order</a></li>
            
                <li data-name="ec.paymentMethod"><a href="ec.html#paymentMethod">paymentMethod</a></li>
            
                <li data-name="ec.product"><a href="ec.html#product">product</a></li>
            
                <li data-name="ec.purchase"><a href="ec.html#purchase">purchase</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="evci">
            <span class="title">
                <a href="evci.html">evci</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="evci.event"><a href="evci.html#event">event</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam">
            <span class="title">
                <a href="iam.html">iam</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.token"><a href="iam.html#token">token</a></li>
            
                <li data-name="iam.user"><a href="iam.html#user">user</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth">
            <span class="title">
                <a href="oauth.html">oauth</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="oauth.URL_ENCODED"><a href="oauth.html#URL_ENCODED">URL_ENCODED</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.authorization"><a href="oauth.html#authorization">authorization</a></li>
            
                <li data-name="oauth.token"><a href="oauth.html#token">token</a></li>
            
                <li data-name="oauth.user"><a href="oauth.html#user">user</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources">
            <span class="title">
                <a href="resources.html">resources</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.collection"><a href="resources.html#collection">collection</a></li>
            
                <li data-name="resources.relation"><a href="resources.html#relation">relation</a></li>
            
                <li data-name="resources.resource"><a href="resources.html#resource">resource</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.sort">
            <span class="title">
                <a href="resources.sort.html">resources.sort</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="resources.sort.ASC"><a href="resources.sort.html#ASC">ASC</a></li>
            
                <li data-name="resources.sort.DESC"><a href="resources.sort.html#DESC">DESC</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.OrderBuilder">
            <span class="title">
                <a href="ec.OrderBuilder.html">ec.OrderBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#checkout"><a href="ec.OrderBuilder.html#OrderBuilder#checkout">OrderBuilder#checkout</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#delete"><a href="ec.OrderBuilder.html#OrderBuilder#delete">OrderBuilder#delete</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#get"><a href="ec.OrderBuilder.html#OrderBuilder#get">OrderBuilder#get</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#prepare"><a href="ec.OrderBuilder.html#OrderBuilder#prepare">OrderBuilder#prepare</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#update"><a href="ec.OrderBuilder.html#OrderBuilder#update">OrderBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PaymentMethodBuilder">
            <span class="title">
                <a href="ec.PaymentMethodBuilder.html">ec.PaymentMethodBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PaymentMethodBuilder.PaymentMethodBuilder#create"><a href="ec.PaymentMethodBuilder.html#PaymentMethodBuilder#create">PaymentMethodBuilder#create</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PaymentMethodIdBuilder">
            <span class="title">
                <a href="ec.PaymentMethodIdBuilder.html">ec.PaymentMethodIdBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PaymentMethodIdBuilder.PaymentMethodIdBuilder#delete"><a href="ec.PaymentMethodIdBuilder.html#PaymentMethodIdBuilder#delete">PaymentMethodIdBuilder#delete</a></li>
            
                <li data-name="ec.PaymentMethodIdBuilder.PaymentMethodIdBuilder#get"><a href="ec.PaymentMethodIdBuilder.html#PaymentMethodIdBuilder#get">PaymentMethodIdBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.ProductBuilder">
            <span class="title">
                <a href="ec.ProductBuilder.html">ec.ProductBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#create"><a href="ec.ProductBuilder.html#ProductBuilder#create">ProductBuilder#create</a></li>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#delete"><a href="ec.ProductBuilder.html#ProductBuilder#delete">ProductBuilder#delete</a></li>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#get"><a href="ec.ProductBuilder.html#ProductBuilder#get">ProductBuilder#get</a></li>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#update"><a href="ec.ProductBuilder.html#ProductBuilder#update">ProductBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PurchaseHistoryBuilder">
            <span class="title">
                <a href="ec.PurchaseHistoryBuilder.html">ec.PurchaseHistoryBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PurchaseHistoryBuilder.PurchaseHistoryBuilder#get"><a href="ec.PurchaseHistoryBuilder.html#PurchaseHistoryBuilder#get">PurchaseHistoryBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PurchaseIdBuilder">
            <span class="title">
                <a href="ec.PurchaseIdBuilder.html">ec.PurchaseIdBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PurchaseIdBuilder.PurchaseIdBuilder#get"><a href="ec.PurchaseIdBuilder.html#PurchaseIdBuilder#get">PurchaseIdBuilder#get</a></li>
            
                <li data-name="ec.PurchaseIdBuilder.PurchaseIdBuilder#getWhenCompleted"><a href="ec.PurchaseIdBuilder.html#PurchaseIdBuilder#getWhenCompleted">PurchaseIdBuilder#getWhenCompleted</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="evci.EventBuilder">
            <span class="title">
                <a href="evci.EventBuilder.html">evci.EventBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="evci.EventBuilder.EventBuilder#publish"><a href="evci.EventBuilder.html#EventBuilder#publish">EventBuilder#publish</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam.TokenBuilder">
            <span class="title">
                <a href="iam.TokenBuilder.html">iam.TokenBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.TokenBuilder.TokenBuilder#create"><a href="iam.TokenBuilder.html#TokenBuilder#create">TokenBuilder#create</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam.UserBuilder">
            <span class="title">
                <a href="iam.UserBuilder.html">iam.UserBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.UserBuilder.UserBuilder#addIdentity"><a href="iam.UserBuilder.html#UserBuilder#addIdentity">UserBuilder#addIdentity</a></li>
            
                <li data-name="iam.UserBuilder.UserBuilder#delete"><a href="iam.UserBuilder.html#UserBuilder#delete">UserBuilder#delete</a></li>
            
                <li data-name="iam.UserBuilder.UserBuilder#get"><a href="iam.UserBuilder.html#UserBuilder#get">UserBuilder#get</a></li>
            
                <li data-name="iam.UserBuilder.UserBuilder#update"><a href="iam.UserBuilder.html#UserBuilder#update">UserBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam.UsersBuilder">
            <span class="title">
                <a href="iam.UsersBuilder.html">iam.UsersBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.UsersBuilder.UsersBuilder#create"><a href="iam.UsersBuilder.html#UsersBuilder#create">UsersBuilder#create</a></li>
            
                <li data-name="iam.UsersBuilder.UsersBuilder#get"><a href="iam.UsersBuilder.html#UsersBuilder#get">UsersBuilder#get</a></li>
            
                <li data-name="iam.UsersBuilder.UsersBuilder#getMe"><a href="iam.UsersBuilder.html#UsersBuilder#getMe">UsersBuilder#getMe</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.AuthorizationBuilder">
            <span class="title">
                <a href="oauth.AuthorizationBuilder.html">oauth.AuthorizationBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.AuthorizationBuilder.AuthorizationBuilder#dialog"><a href="oauth.AuthorizationBuilder.html#AuthorizationBuilder#dialog">AuthorizationBuilder#dialog</a></li>
            
                <li data-name="oauth.AuthorizationBuilder.AuthorizationBuilder#login"><a href="oauth.AuthorizationBuilder.html#AuthorizationBuilder#login">AuthorizationBuilder#login</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.TokenBuilder">
            <span class="title">
                <a href="oauth.TokenBuilder.html">oauth.TokenBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.TokenBuilder.TokenBuilder#get"><a href="oauth.TokenBuilder.html#TokenBuilder#get">TokenBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.UserBuilder">
            <span class="title">
                <a href="oauth.UserBuilder.html">oauth.UserBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.UserBuilder.UserBuilder#create"><a href="oauth.UserBuilder.html#UserBuilder#create">UserBuilder#create</a></li>
            
                <li data-name="oauth.UserBuilder.UserBuilder#sendResetPasswordEmail"><a href="oauth.UserBuilder.html#UserBuilder#sendResetPasswordEmail">UserBuilder#sendResetPasswordEmail</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.UserMeBuilder">
            <span class="title">
                <a href="oauth.UserMeBuilder.html">oauth.UserMeBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#deleteMe"><a href="oauth.UserMeBuilder.html#UserMeBuilder#deleteMe">UserMeBuilder#deleteMe</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#getMe"><a href="oauth.UserMeBuilder.html#UserMeBuilder#getMe">UserMeBuilder#getMe</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#sendValidateEmail"><a href="oauth.UserMeBuilder.html#UserMeBuilder#sendValidateEmail">UserMeBuilder#sendValidateEmail</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#updateMe"><a href="oauth.UserMeBuilder.html#UserMeBuilder#updateMe">UserMeBuilder#updateMe</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#validateEmail"><a href="oauth.UserMeBuilder.html#UserMeBuilder#validateEmail">UserMeBuilder#validateEmail</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.CollectionBuilder">
            <span class="title">
                <a href="resources.CollectionBuilder.html">resources.CollectionBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.CollectionBuilder.CollectionBuilder#add"><a href="resources.CollectionBuilder.html#CollectionBuilder#add">CollectionBuilder#add</a></li>
            
                <li data-name="resources.CollectionBuilder.CollectionBuilder#get"><a href="resources.CollectionBuilder.html#CollectionBuilder#get">CollectionBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.RelationBuilder">
            <span class="title">
                <a href="resources.RelationBuilder.html">resources.RelationBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.RelationBuilder.RelationBuilder#add"><a href="resources.RelationBuilder.html#RelationBuilder#add">RelationBuilder#add</a></li>
            
                <li data-name="resources.RelationBuilder.RelationBuilder#delete"><a href="resources.RelationBuilder.html#RelationBuilder#delete">RelationBuilder#delete</a></li>
            
                <li data-name="resources.RelationBuilder.RelationBuilder#get"><a href="resources.RelationBuilder.html#RelationBuilder#get">RelationBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.ResourceBuilder">
            <span class="title">
                <a href="resources.ResourceBuilder.html">resources.ResourceBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.ResourceBuilder.ResourceBuilder#delete"><a href="resources.ResourceBuilder.html#ResourceBuilder#delete">ResourceBuilder#delete</a></li>
            
                <li data-name="resources.ResourceBuilder.ResourceBuilder#get"><a href="resources.ResourceBuilder.html#ResourceBuilder#get">ResourceBuilder#get</a></li>
            
                <li data-name="resources.ResourceBuilder.ResourceBuilder#update"><a href="resources.ResourceBuilder.html#ResourceBuilder#update">ResourceBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SilkRoadError">
            <span class="title">
                <a href="SilkRoadError.html">SilkRoadError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="SilkRoadError.create"><a href="SilkRoadError.html#create">create</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="ec.js.html">Source: engine/silkroad/ec.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source"><code>'use strict';
/* global define */
define([
    'corejs/app',
    'corejs/engine/silkroad/services',
    'q'
], function(app, services, q) {

    /** 
     * A module to make e-commerce requests.
     * @exports ec
     * @namespace
     */
    var ec = {};

    /**
     * Creates a new Product Builder
     * @param  {String} id The id of the product
     * @return {ec.ProductBuilder}
     */
    ec.product = function(id) {
        return new ProductBuilder(id);
    };

    /**
     * Builder to create product requests
     * @class
     * @memberof ec
     * @param {String} id Id of the product
     */
    function ProductBuilder(id) {
        this.uri = 'product/';
        if (id) {
            this.id = id;
        }
    }

    /**
     * Creates a new product
     * @method
     * @memberOf ec.ProductBuilder
     * @param  {Object} data                Contains the data of the new product 
     * @param  {String} data.price          Information about price
     * @param {String} data.price.currency  Currency code fro the price
     * @param {Number} data.price.amount    The amount of the price
     * @param {String} href                 Link to ???
     * @param {String} type                 Type of the Product
     * @return {Promise}                    Q Promise that resolves in the new product id or rejects with a {@link SilkRoadError}
     */
    ProductBuilder.prototype.create = function(data) {
        return request({
            url: buildUri(this.uri),
            method: services.method.POST,
            data: data
        }, true).
        then(function(res) {
            return services.extractLocationId(res);
        });
    };

    /**
     * Gets a product
     * @method
     * @memberOf ec.ProductBuilder
     * @return {Promise} Q promise that resolves to a Product {Object} or rejects with a {@link SilkRoadError}
     */
    ProductBuilder.prototype.get = function() {
        return request({
            url: buildUri(this.uri, this.id),
            method: services.method.GET
        });
    };

    /**
     * Updates a product
     * @method
     * @memberOf ec.ProductBuilder
     * @param  {Object} data    Product data to update
     * @return {Promise}        Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}

     */
    ProductBuilder.prototype.update = function(data) {
        return request({
            url: buildUri(this.uri, this.id),
            method: services.method.PUT,
            data: data
        });
    };

    /**
     * Deletes a product
     * @method
     * @memberOf ec.ProductBuilder
     * @return {Promise}        Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}

     */
    ProductBuilder.prototype.delete = function() {
        return request({
            url: buildUri(this.uri, this.id),
            method: services.method.DELETE
        });
    };

    /**
     * Creates an new Order Builder for silkroad requests   
     * @method    
     * @param  {String} id The id of the order
     * @return {ec.OrderBuilder}    
     */
    ec.order = function(id) {
        return new OrderBuilder(id);
    };

    /**
     * Builder to create order requests
     * @class
     * @memberof ec
     * @param {String} id Id of the order
     */
    function OrderBuilder(id) {
        this.uri = 'order/';
        if (id) {
            this.id = id;
        }
    }

    /**
     * Gets an order
     * @method
     * @memberOf ec.OrderBuilder
     * @return {Promise}        Q promise that resolves to a Order {Object} or rejects with a {@link SilkRoadError}
     */
    OrderBuilder.prototype.get = function() {
        return request({
            url: buildUri(this.uri, this.id),
            method: services.method.GET
        });
    };

    /**
     * Updates the order
     * @method
     * @memberOf ec.OrderBuilder
     * @param  {Object} data        Data of the order to update
     * @param {Array} data.items    Array of products to purchase
     * @return {Promise}            Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    OrderBuilder.prototype.update = function(data) {
        return request({
            url: buildUri(this.uri, this.id),
            method: services.method.PUT,
            data: data
        });
    };

    /**
     * Deletes the Order
     * @method
     * @memberOf ec.OrderBuilder
     * @return {Promise}        Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    OrderBuilder.prototype.delete = function() {
        return request({
            url: buildUri(this.uri, this.id),
            method: services.method.DELETE
        });
    };

    /**
     * Prepares the order, required to checkout
     * @method
     * @memberOf ec.OrderBuilder
     * @return {Promise}        Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    OrderBuilder.prototype.prepare = function() {
        return request({
            url: buildUri(this.uri, this.id, '/prepare'),
            method: services.method.POST
        });
    };

    /**
     * Checks out the Order
     * @method
     * @memberOf ec.OrderBuilder
     * @param  {Object} data            Pruchase information to do the checkout
     * @param {Array} paymentMethodIds  Array of String with the payment methods ids to checkout the order
     * @param {Array} discountsIds      Array of String with the discounts ids to checkout the order
     * @return {Promise}                Promise that resolves in the new purchase id or rejects with a {@link SilkRoadError}
     */
    OrderBuilder.prototype.checkout = function(data) {
        if (!data.discountIds || !data.paymentMethodIds) {
            throw new Error('paymentMethodIds and discountIds lists needed');
        }
        if (!data.paymentMethodIds.length) {
            throw new Error('One payment method is needed at least');
        }
        return request({
            method: services.method.POST,
            url: buildUri(this.uri, this.id, '/checkout'),
            data: data
        }, true).
        then(function(res) {
            return services.extractLocationId(res);
        });
    };

    /**
     * Creates a builder to perform purchase requests
     * @param  {String} [id]                                Id of the purchase, for requests with a single purchase
     * @return {ec.PurchaseIdBuilder | ec.PurchaseHistoryBuilder} Builder for the requests       
     */
    ec.purchase = function(id) {
        if (id) {
            return new PurchaseIdBuilder(id);
        } else {
            return new PurchaseHistoryBuilder();
        }
    };

    /**
     * Builder for requests with a single purchase
     * @class
     * @memberof ec
     * @param {String} id Id of the purchase
     */
    function PurchaseIdBuilder(id) {
        this.uri = buildUri('purchase/',id);
    }

    /**
     * Builder for requests with purchase collections
     * @class
     * @memberof ec
     */
    function PurchaseHistoryBuilder() {
        this.uri = buildUri('purchase/');
    }

    /**
     * Gets the purchase history of the logged user
     * @method
     * @memberOf ec.PurchaseHistoryBuilder
     * @param  {Object} params              Page params for the request
     * @param {Number} params.pagesize     Size of the page to request
     * @param {Number} params.page         Number of the page to request
     * @return {Promise}                    Q promise that resolves to an {Array} of Purchases or rejects with a {@link SilkRoadError}
     */
    PurchaseHistoryBuilder.prototype.get = function(params) {
        return request({
            url: this.uri,
            method: services.method.GET,
            query: serializeParamsEc(params)
        });
    };

    /**
     * Gets the purchase
     * @method
     * @memberOf ec.PurchaseIdBuilder
     * @return {Promise}                    Q promise that resolves to to a Purchase {Object} or rejects with a {@link SilkRoadError}
     */
    PurchaseIdBuilder.prototype.get = function() {
        return request({
            url : this.uri,
            method: services.method.GET,
        });
    };

    /**
     * Gets a purchase, and, if its status is IN_PROGRESS, does a polling against the server until the purchase has a different status or the retrySeconds are out
     * @method
     * @memberOf ec.PurchaseIdBuilder
     * @param  {Number} retrySeconds    Timeout of the polling in seconds
     * @return {Promise}                 Q Promise that resolves to a Purchase {Object} or rejects with a {Error}
     */
    PurchaseIdBuilder.prototype.getWhenCompleted = function(retrySeconds) {
        var dfd = q.defer();
        var interval = 3;
        var poll = 0;
        $.proxy(getCompletedPurchase, this, dfd, retrySeconds, interval * poll++);
        if(dfd.promise.inspect().state === 'pending'){
            var polling = setInterval($.proxy(getCompletedPurchase, this, dfd, retrySeconds, interval * poll++), interval * 1000);
            dfd.promise.fin(function(){
                clearInterval(polling);
            });
        }
        return dfd.promise;
    };

    var getCompletedPurchase = function(dfd, retrySeconds, elapsedTime) {
        this.get().then(function(purchase) {
            if (purchase.state.state === 'IN_PROGRESS' && retrySeconds &lt; elapsedTime) {
                dfd.reject('ec.purchase.get.timeout');
            } else if (purchase.state.state !== 'IN_PROGRESS') {
                dfd.resolve(purchase);
            }
        }, function (error) {
            dfd.reject(error);
        });
    };

    
    /**
     * Creates a Payment Method builder for payment method requests
     * @param  {String} [id]    Id of the payment method, for single payment method requests     
     * @return {ec.PaymentMethodIdBuilder | ec.PaymentMethodBuilder}
     */
    ec.paymentMethod = function(id) {
        return (id) ? new PaymentMethodIdBuilder(id) : new PaymentMethodBuilder();
    };

    /**
     * Builder for requests with a single payment method
     * @class
     * @memberof ec
     * @param {String} id Id of the payment method
     */
    function PaymentMethodIdBuilder(id) {
        this.uri = buildUri('paymentmethod/', id);
    }

    /**
     * Builder for requests with payment method collections
     * @class
     * @memberof ec
     */
    function PaymentMethodBuilder() {
        this.uri = buildUri('paymentmethod/');
    }

    /**
     * Get a payment method or a collection of payment methods
     * @method
     * @memberOf ec.PaymentMethodIdBuilder
     * @return {Promise}                 Q promise that resolves to to a Payment method {Object}, or an {Array} of payment methods or rejects with a {@link SilkRoadError}
     */
    PaymentMethodIdBuilder.prototype.get = PaymentMethodBuilder.prototype.get = function() {
        return request({
            url: this.uri,
            method: services.method.GET
        });
    };

    /**
     * Deletes a payment method
     * @method
     * @memberOf ec.PaymentMethodIdBuilder
     * @return {Promise}            Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    PaymentMethodIdBuilder.prototype.delete = function() {
        return request({
            url: this.uri,
            method: services.method.DELETE
        });
    };

    /**
     * Creates a payment method for the logged user
     * @method
     * @memberOf ec.PaymentMethodBuilder
     * @param  {Object} data
     * @param {String} [name]   The name of the new payment method
     * @param {String} data     The card data encrypted
     * @see   Client Side Encryption {@link https://github.com/adyenpayments/client-side-encryption}
     * @return {Promise}        Q promise that resolves to the new payment method id or rejects with a {@link SilkRoadError}
     */
    PaymentMethodBuilder.prototype.create = function(data) {
        return request({
            url: this.uri,
            method: services.method.POST,
            data: data
        }, true).
        then(function(res) {
            return services.extractLocationId(res);
        });
    };

    var buildUri = function(uri, id, extra) {
        var fullUri = '';
        fullUri = app.common.get('ecEndpoint') + uri;
        if (id) {
            fullUri += id;
        }
        if (extra) {
            fullUri += extra;
        }
        return fullUri;
    };

    var request = function(params, isXHR) {
        params.withAuth = true;
        return services.request(params, isXHR);
    };

    var serializeParamsEc = function(params) {
        var result = '';

        if (params.pagesize) {
            result = 'api:pagesize=' + JSON.stringify(params.pagesize);
        }

        if (params.page) {
            result += result ? '&' : '';
            result += 'api:page=' + JSON.stringify(params.page);
        }

        return result;
    };

    return ec;
});</code></pre>
        </article>
    </section>





        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Fri Apr 11 2014 16:02:02 GMT+0200 (CEST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>