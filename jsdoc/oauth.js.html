<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>coreJS-app</title>
    <meta name="description" content="coreJS App Documentation" />
    <meta name="keywords" content="corejs-app" />
    <meta name="keyword" content="corejs-app" />
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:url" content=""/>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"coreJS-app","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"coreJS-app","description":"coreJS App Documentation","keyword":"corejs-app"}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">coreJS-app</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="app">
            <span class="title">
                <a href="app.html">app</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.root"><a href="app.html#root">root</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.jst">
            <span class="title">
                <a href="app.jst.html">app.jst</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.services">
            <span class="title">
                <a href="app.services.html">app.services</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.services.arrayScopesToString"><a href="app.services.html#arrayScopesToString">arrayScopesToString</a></li>
            
                <li data-name="app.services.isCrossDomain"><a href="app.services.html#isCrossDomain">isCrossDomain</a></li>
            
                <li data-name="app.services.request"><a href="app.services.html#request">request</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.services.method">
            <span class="title">
                <a href="app.services.method.html">app.services.method</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.services.method.DELETE"><a href="app.services.method.html#DELETE">DELETE</a></li>
            
                <li data-name="app.services.method.GET"><a href="app.services.method.html#GET">GET</a></li>
            
                <li data-name="app.services.method.HEAD"><a href="app.services.method.html#HEAD">HEAD</a></li>
            
                <li data-name="app.services.method.OPTIONS"><a href="app.services.method.html#OPTIONS">OPTIONS</a></li>
            
                <li data-name="app.services.method.PATCH"><a href="app.services.method.html#PATCH">PATCH</a></li>
            
                <li data-name="app.services.method.POST"><a href="app.services.method.html#POST">POST</a></li>
            
                <li data-name="app.services.method.PUT"><a href="app.services.method.html#PUT">PUT</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.session">
            <span class="title">
                <a href="app.session.html">app.session</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.session.STATUS_SELECTOR"><a href="app.session.html#STATUS_SELECTOR">STATUS_SELECTOR</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.session.add"><a href="app.session.html#add">add</a></li>
            
                <li data-name="app.session.destroy"><a href="app.session.html#destroy">destroy</a></li>
            
                <li data-name="app.session.exist"><a href="app.session.html#exist">exist</a></li>
            
                <li data-name="app.session.gatekeeper"><a href="app.session.html#gatekeeper">gatekeeper</a></li>
            
                <li data-name="app.session.get"><a href="app.session.html#get">get</a></li>
            
                <li data-name="app.session.isPersistent"><a href="app.session.html#isPersistent">isPersistent</a></li>
            
                <li data-name="app.session.logged"><a href="app.session.html#logged">logged</a></li>
            
                <li data-name="app.session.removeStatus"><a href="app.session.html#removeStatus">removeStatus</a></li>
            
                <li data-name="app.session.setPersistent"><a href="app.session.html#setPersistent">setPersistent</a></li>
            
                <li data-name="app.session.setStatus"><a href="app.session.html#setStatus">setStatus</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.user">
            <span class="title">
                <a href="app.user.html">app.user</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.user.login"><a href="app.user.html#login">login</a></li>
            
                <li data-name="app.user.loginToken"><a href="app.user.html#loginToken">loginToken</a></li>
            
                <li data-name="app.user.logout"><a href="app.user.html#logout">logout</a></li>
            
                <li data-name="app.user.me"><a href="app.user.html#me">me</a></li>
            
                <li data-name="app.user.register"><a href="app.user.html#register">register</a></li>
            
                <li data-name="app.user.registerIAM"><a href="app.user.html#registerIAM">registerIAM</a></li>
            
                <li data-name="app.user.remove"><a href="app.user.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.user.statusCode">
            <span class="title">
                <a href="app.user.statusCode.html">app.user.statusCode</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.user.statusCode.USER_EXIST"><a href="app.user.statusCode.html#USER_EXIST">USER_EXIST</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.utils">
            <span class="title">
                <a href="app.utils.html">app.utils</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="app.utils.isIE8"><a href="app.utils.html#isIE8">isIE8</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.utils.getCenteredPopup"><a href="app.utils.html#getCenteredPopup">getCenteredPopup</a></li>
            
                <li data-name="app.utils.getHashParams"><a href="app.utils.html#getHashParams">getHashParams</a></li>
            
                <li data-name="app.utils.getQueryParams"><a href="app.utils.html#getQueryParams">getQueryParams</a></li>
            
                <li data-name="app.utils.popup"><a href="app.utils.html#popup">popup</a></li>
            
                <li data-name="app.utils.redirect"><a href="app.utils.html#redirect">redirect</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.utils.isMobile">
            <span class="title">
                <a href="app.utils.isMobile.html">app.utils.isMobile</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.utils.isMobile.Android"><a href="app.utils.isMobile.html#Android">Android</a></li>
            
                <li data-name="app.utils.isMobile.any"><a href="app.utils.isMobile.html#any">any</a></li>
            
                <li data-name="app.utils.isMobile.BlackBerry"><a href="app.utils.isMobile.html#BlackBerry">BlackBerry</a></li>
            
                <li data-name="app.utils.isMobile.iOS"><a href="app.utils.isMobile.html#iOS">iOS</a></li>
            
                <li data-name="app.utils.isMobile.Opera"><a href="app.utils.isMobile.html#Opera">Opera</a></li>
            
                <li data-name="app.utils.isMobile.Windows"><a href="app.utils.isMobile.html#Windows">Windows</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="app.validate">
            <span class="title">
                <a href="app.validate.html">app.validate</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="app.validate.isDefined"><a href="app.validate.html#isDefined">isDefined</a></li>
            
                <li data-name="app.validate.isGreaterThan"><a href="app.validate.html#isGreaterThan">isGreaterThan</a></li>
            
                <li data-name="app.validate.isGreaterThanOrEqual"><a href="app.validate.html#isGreaterThanOrEqual">isGreaterThanOrEqual</a></li>
            
                <li data-name="app.validate.isNotNull"><a href="app.validate.html#isNotNull">isNotNull</a></li>
            
                <li data-name="app.validate.isValue"><a href="app.validate.html#isValue">isValue</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="common">
            <span class="title">
                <a href="common.html">common</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="common.serializeParams"><a href="common.html#serializeParams">serializeParams</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec">
            <span class="title">
                <a href="ec.html">ec</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.order"><a href="ec.html#order">order</a></li>
            
                <li data-name="ec.paymentMethod"><a href="ec.html#paymentMethod">paymentMethod</a></li>
            
                <li data-name="ec.product"><a href="ec.html#product">product</a></li>
            
                <li data-name="ec.purchase"><a href="ec.html#purchase">purchase</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="evci">
            <span class="title">
                <a href="evci.html">evci</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="evci.event"><a href="evci.html#event">event</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam">
            <span class="title">
                <a href="iam.html">iam</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.token"><a href="iam.html#token">token</a></li>
            
                <li data-name="iam.user"><a href="iam.html#user">user</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth">
            <span class="title">
                <a href="oauth.html">oauth</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="oauth.URL_ENCODED"><a href="oauth.html#URL_ENCODED">URL_ENCODED</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.authorization"><a href="oauth.html#authorization">authorization</a></li>
            
                <li data-name="oauth.token"><a href="oauth.html#token">token</a></li>
            
                <li data-name="oauth.user"><a href="oauth.html#user">user</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources">
            <span class="title">
                <a href="resources.html">resources</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.collection"><a href="resources.html#collection">collection</a></li>
            
                <li data-name="resources.relation"><a href="resources.html#relation">relation</a></li>
            
                <li data-name="resources.resource"><a href="resources.html#resource">resource</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.sort">
            <span class="title">
                <a href="resources.sort.html">resources.sort</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="resources.sort.ASC"><a href="resources.sort.html#ASC">ASC</a></li>
            
                <li data-name="resources.sort.DESC"><a href="resources.sort.html#DESC">DESC</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.OrderBuilder">
            <span class="title">
                <a href="ec.OrderBuilder.html">ec.OrderBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#checkout"><a href="ec.OrderBuilder.html#OrderBuilder#checkout">OrderBuilder#checkout</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#delete"><a href="ec.OrderBuilder.html#OrderBuilder#delete">OrderBuilder#delete</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#get"><a href="ec.OrderBuilder.html#OrderBuilder#get">OrderBuilder#get</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#prepare"><a href="ec.OrderBuilder.html#OrderBuilder#prepare">OrderBuilder#prepare</a></li>
            
                <li data-name="ec.OrderBuilder.OrderBuilder#update"><a href="ec.OrderBuilder.html#OrderBuilder#update">OrderBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PaymentMethodBuilder">
            <span class="title">
                <a href="ec.PaymentMethodBuilder.html">ec.PaymentMethodBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PaymentMethodBuilder.PaymentMethodBuilder#create"><a href="ec.PaymentMethodBuilder.html#PaymentMethodBuilder#create">PaymentMethodBuilder#create</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PaymentMethodIdBuilder">
            <span class="title">
                <a href="ec.PaymentMethodIdBuilder.html">ec.PaymentMethodIdBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PaymentMethodIdBuilder.PaymentMethodIdBuilder#delete"><a href="ec.PaymentMethodIdBuilder.html#PaymentMethodIdBuilder#delete">PaymentMethodIdBuilder#delete</a></li>
            
                <li data-name="ec.PaymentMethodIdBuilder.PaymentMethodIdBuilder#get"><a href="ec.PaymentMethodIdBuilder.html#PaymentMethodIdBuilder#get">PaymentMethodIdBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.ProductBuilder">
            <span class="title">
                <a href="ec.ProductBuilder.html">ec.ProductBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#create"><a href="ec.ProductBuilder.html#ProductBuilder#create">ProductBuilder#create</a></li>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#delete"><a href="ec.ProductBuilder.html#ProductBuilder#delete">ProductBuilder#delete</a></li>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#get"><a href="ec.ProductBuilder.html#ProductBuilder#get">ProductBuilder#get</a></li>
            
                <li data-name="ec.ProductBuilder.ProductBuilder#update"><a href="ec.ProductBuilder.html#ProductBuilder#update">ProductBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PurchaseHistoryBuilder">
            <span class="title">
                <a href="ec.PurchaseHistoryBuilder.html">ec.PurchaseHistoryBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PurchaseHistoryBuilder.PurchaseHistoryBuilder#get"><a href="ec.PurchaseHistoryBuilder.html#PurchaseHistoryBuilder#get">PurchaseHistoryBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ec.PurchaseIdBuilder">
            <span class="title">
                <a href="ec.PurchaseIdBuilder.html">ec.PurchaseIdBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ec.PurchaseIdBuilder.PurchaseIdBuilder#get"><a href="ec.PurchaseIdBuilder.html#PurchaseIdBuilder#get">PurchaseIdBuilder#get</a></li>
            
                <li data-name="ec.PurchaseIdBuilder.PurchaseIdBuilder#getWhenCompleted"><a href="ec.PurchaseIdBuilder.html#PurchaseIdBuilder#getWhenCompleted">PurchaseIdBuilder#getWhenCompleted</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="evci.EventBuilder">
            <span class="title">
                <a href="evci.EventBuilder.html">evci.EventBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="evci.EventBuilder.EventBuilder#publish"><a href="evci.EventBuilder.html#EventBuilder#publish">EventBuilder#publish</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam.TokenBuilder">
            <span class="title">
                <a href="iam.TokenBuilder.html">iam.TokenBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.TokenBuilder.TokenBuilder#create"><a href="iam.TokenBuilder.html#TokenBuilder#create">TokenBuilder#create</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam.UserBuilder">
            <span class="title">
                <a href="iam.UserBuilder.html">iam.UserBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.UserBuilder.UserBuilder#addIdentity"><a href="iam.UserBuilder.html#UserBuilder#addIdentity">UserBuilder#addIdentity</a></li>
            
                <li data-name="iam.UserBuilder.UserBuilder#delete"><a href="iam.UserBuilder.html#UserBuilder#delete">UserBuilder#delete</a></li>
            
                <li data-name="iam.UserBuilder.UserBuilder#get"><a href="iam.UserBuilder.html#UserBuilder#get">UserBuilder#get</a></li>
            
                <li data-name="iam.UserBuilder.UserBuilder#update"><a href="iam.UserBuilder.html#UserBuilder#update">UserBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="iam.UsersBuilder">
            <span class="title">
                <a href="iam.UsersBuilder.html">iam.UsersBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="iam.UsersBuilder.UsersBuilder#create"><a href="iam.UsersBuilder.html#UsersBuilder#create">UsersBuilder#create</a></li>
            
                <li data-name="iam.UsersBuilder.UsersBuilder#get"><a href="iam.UsersBuilder.html#UsersBuilder#get">UsersBuilder#get</a></li>
            
                <li data-name="iam.UsersBuilder.UsersBuilder#getMe"><a href="iam.UsersBuilder.html#UsersBuilder#getMe">UsersBuilder#getMe</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.AuthorizationBuilder">
            <span class="title">
                <a href="oauth.AuthorizationBuilder.html">oauth.AuthorizationBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.AuthorizationBuilder.AuthorizationBuilder#dialog"><a href="oauth.AuthorizationBuilder.html#AuthorizationBuilder#dialog">AuthorizationBuilder#dialog</a></li>
            
                <li data-name="oauth.AuthorizationBuilder.AuthorizationBuilder#login"><a href="oauth.AuthorizationBuilder.html#AuthorizationBuilder#login">AuthorizationBuilder#login</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.TokenBuilder">
            <span class="title">
                <a href="oauth.TokenBuilder.html">oauth.TokenBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.TokenBuilder.TokenBuilder#get"><a href="oauth.TokenBuilder.html#TokenBuilder#get">TokenBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.UserBuilder">
            <span class="title">
                <a href="oauth.UserBuilder.html">oauth.UserBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.UserBuilder.UserBuilder#create"><a href="oauth.UserBuilder.html#UserBuilder#create">UserBuilder#create</a></li>
            
                <li data-name="oauth.UserBuilder.UserBuilder#sendResetPasswordEmail"><a href="oauth.UserBuilder.html#UserBuilder#sendResetPasswordEmail">UserBuilder#sendResetPasswordEmail</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="oauth.UserMeBuilder">
            <span class="title">
                <a href="oauth.UserMeBuilder.html">oauth.UserMeBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#deleteMe"><a href="oauth.UserMeBuilder.html#UserMeBuilder#deleteMe">UserMeBuilder#deleteMe</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#getMe"><a href="oauth.UserMeBuilder.html#UserMeBuilder#getMe">UserMeBuilder#getMe</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#sendValidateEmail"><a href="oauth.UserMeBuilder.html#UserMeBuilder#sendValidateEmail">UserMeBuilder#sendValidateEmail</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#updateMe"><a href="oauth.UserMeBuilder.html#UserMeBuilder#updateMe">UserMeBuilder#updateMe</a></li>
            
                <li data-name="oauth.UserMeBuilder.UserMeBuilder#validateEmail"><a href="oauth.UserMeBuilder.html#UserMeBuilder#validateEmail">UserMeBuilder#validateEmail</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.CollectionBuilder">
            <span class="title">
                <a href="resources.CollectionBuilder.html">resources.CollectionBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.CollectionBuilder.CollectionBuilder#add"><a href="resources.CollectionBuilder.html#CollectionBuilder#add">CollectionBuilder#add</a></li>
            
                <li data-name="resources.CollectionBuilder.CollectionBuilder#get"><a href="resources.CollectionBuilder.html#CollectionBuilder#get">CollectionBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.RelationBuilder">
            <span class="title">
                <a href="resources.RelationBuilder.html">resources.RelationBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.RelationBuilder.RelationBuilder#add"><a href="resources.RelationBuilder.html#RelationBuilder#add">RelationBuilder#add</a></li>
            
                <li data-name="resources.RelationBuilder.RelationBuilder#delete"><a href="resources.RelationBuilder.html#RelationBuilder#delete">RelationBuilder#delete</a></li>
            
                <li data-name="resources.RelationBuilder.RelationBuilder#get"><a href="resources.RelationBuilder.html#RelationBuilder#get">RelationBuilder#get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="resources.ResourceBuilder">
            <span class="title">
                <a href="resources.ResourceBuilder.html">resources.ResourceBuilder</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="resources.ResourceBuilder.ResourceBuilder#delete"><a href="resources.ResourceBuilder.html#ResourceBuilder#delete">ResourceBuilder#delete</a></li>
            
                <li data-name="resources.ResourceBuilder.ResourceBuilder#get"><a href="resources.ResourceBuilder.html#ResourceBuilder#get">ResourceBuilder#get</a></li>
            
                <li data-name="resources.ResourceBuilder.ResourceBuilder#update"><a href="resources.ResourceBuilder.html#ResourceBuilder#update">ResourceBuilder#update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SilkRoadError">
            <span class="title">
                <a href="SilkRoadError.html">SilkRoadError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="SilkRoadError.create"><a href="SilkRoadError.html#create">create</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="oauth.js.html">Source: engine/silkroad/oauth.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source"><code>'use strict';
/* global define */
define([
    'corejs/app',
    'jquery',
    'corejs/engine/silkroad/services'
], function(app, $, services) {

    /** 
     * A module to make oauth requests.
     * @exports oauth
     * @namespace
     */
    var oauth = {

        /**
         * Default encoding
         * @type {String}
         * @default application/x-www-form-urlencoded; charset=UTF-8
         */
        URL_ENCODED: 'application/x-www-form-urlencoded; charset=UTF-8'
    };

    // TODO: refactor with validation module
    var checkProp = function(dict, keys, excep) {
        var error = excep ? excep : 'Error validating arguments';
        if (!dict) {
            throw error;
        }
        for (var i in keys) {
            if (!(keys[i] in dict)) {
                throw error;
            }
        }
    };

    var validateResponseType = function(responseType) {
        if (responseType !== 'code') {
            throw 'Only "code" response type allowed';
        }
    };

    var validateGrantType = function(grantType) {
        if (grantType !== 'authorization_code') {
            throw 'Only "authorization_code" grant type is allowed';
        }
    };

    var trasformParams = function(clientParams) {

        for (var key in clientParams) {
            clientParams[toUnderscore(key)] = clientParams[key];
            delete clientParams[key];
        }
        return clientParams;

    };

    var toUnderscore = function(string) {
        return string.replace(/([A-Z])/g, function($1) {
            return '_' + $1.toLowerCase();
        });
    };

    /**
     * Starts to create a authorization request
     * @param  {Object} clientParams
     * @param  {String} clientParams.clientId       The application client ID
     * @param  {String} clientParams.responseType   The response type (only allowed 'code' for login, 'email_validation_token' and 'reset_password_token')
     * @param  {String} clientParams.redirectUri    The uri to redirect before the login    
     * @return {oauth.AuthorizationBuilder}               Oauth builder
     */
    oauth.authorization = function(clientParams) {
        checkProp(clientParams, ['clientId', 'responseType', 'redirectUri'], 'Invalid client parameters');
        validateResponseType(clientParams.responseType);
        var params = {
            url: app.common.get('oauthEndpoint') + 'oauth/authorize',
            contentType: oauth.URL_ENCODED,
            data: trasformParams(clientParams)
        };
        return new AuthorizationBuilder(params);
    };

    /**
     * Builder for constructing an authorization request
     * @class
     * @memberOf oauth
     * @param {Object} params Initial params
     */
    function AuthorizationBuilder(params) {
        this.params = params;
    }

    /**
     * Gets the login dialog in oauth server
     * @method
     * @memberOf oauth.AuthorizationBuilder
     * @return {Promise} Q promise that resolves to an html dialog or rejects with a {@link SilkRoadError}
     */
    AuthorizationBuilder.prototype.dialog = function() {
        this.params.method = services.method.GET;
        this.params.query = $.param(this.params.data);
        delete this.params.data;
        this.params.dataType = 'text';
        return services.request(this.params);
    };

    /**
     * Does a login in oauth server
     * @method
     * @memberOf oauth.AuthorizationBuilder
     * @param  {String} username The username of the user to log in
     * @param  {String} password The password of the user
     * @return {Promise}         Q promise that resolves to a redirection to redirectUri or rejects with a {@link SilkRoadError}
     */
    AuthorizationBuilder.prototype.login = function(username, password) {
        this.params.method = services.method.POST;
        this.params.data.username = username;
        this.params.data.password = password;
        return services.request(this.params);
    };

    /**
     * Starts to build a token request
     * @method
     * @param  {Object} clientParams
     * @param  {String} clientParams.clientId       Client id
     * @param  {String} clientParams.clientSecret   Client secret
     * @param  {String} clientParams.grantType      The grant type (only allowed 'authorization_code')
     * @return {oauth.TokenBuilder}                       Oauth builder
     */
    oauth.token = function(clientParams) {
        checkProp(clientParams, ['clientId', 'clientSecret', 'grantType'], 'Invalid client parameters');
        validateGrantType(clientParams.grantType);
        var params = {
            method: services.method.POST,
            url: app.common.get('oauthEndpoint') + 'oauth/token',
            contentType: oauth.URL_ENCODED,
            data: trasformParams(clientParams)
        };
        return new TokenBuilder(params);
    };

    /**
     * Builder to create a token request
     * @class
     * @memberOf oauth
     * @param {Object} params Initial params
     */
    function TokenBuilder(params) {
        this.params = params;
    }

    /**
     * Gets an access token
     * @method
     * @memberOf oauth.TokenBuilder
     * @param  {String} code The code to exchange for the token
     * @return {Promise}         Q promise that resolves to an AccesToken {Object} or rejects with a {@link SilkRoadError}
     */
    TokenBuilder.prototype.get = function(code) {
        this.params.data.code = code;
        return services.request(this.params);
    };

    /**
     * Starts a user request
     * @param  {Object} clientParams                
     * @param  {String} [clientParams.clientId]     The application client id (needed for creating a user)
     * @param  {String} [clientParams.clientSecret] The application client secret (needed for creating a user)
     * @param  {String} [accessToken]               Access token from a login (required for operations with the logged user)
     * @return {oauth.UserBuilder}                        User builder
     */
    oauth.user = function(clientParams, accessToken) {
        var params = {
            url: app.common.get('oauthEndpoint') + 'user'
        };
        if (accessToken) {

            params.headers = {
                Authorization: 'Bearer ' + accessToken,
                Accept: 'application/json'
            };
            return new UserMeBuilder(params);
        } else if (clientParams) {
            return new UserBuilder(params, clientParams.clientId, clientParams.clientSecret);
        } else {
            throw new Error('Invalid user parameters');
        }
    };

    /**
     * Builder for user/me requests
     * @class
     * @memberOf oauth
     * @param {Object} params Parameters for initializing the builder
     */
    function UserMeBuilder(params) {
        this.params = params;
    }

    /**
     * Builder for user requests
     * @class
     * @memberOf oauth
     * @param {Object} params           Parameters for initializing the builder
     * @param {String} [clientId]       Application client Id (required for creating user)
     * @param {String} [clientSecret]   Application client secret (required for creating user)
     */
    function UserBuilder(params, clientId, clientSecret) {
        this.params = params;
        this.clientSecret = clientSecret;
        this.clientId = clientId;
    }

    /**
     * Adds a new user to the oauth server
     * @method
     * @memberOf oauth.UserBuilder
     * @param  {Object} user    The user to be created
     * @param {String} username The username of the user
     * @param {String} email    The email of the user
     * @param {String} password The password of the user
     * @return {Promise}        Q promise that resolves to a redirection to redirectUri or rejects with a {@link SilkRoadError}     
     */
    UserBuilder.prototype.create = function(user) {
        this.params.method = services.method.POST;
        this.params.headers = {
            Authorization: 'Basic ' + btoa(this.clientId + ':' + this.clientSecret)
        };
        // server returns no responseText
        this.params.dataType = 'text';
        this.params.data = user;
        return services.requestXHR(this.params).then(function(res) {
            return services.extractLocationId(res);
        });
    };

    /**
     * Sends a reset password email to the email address recived.
     * @method
     * @memberOf oauth.UserBuilder
     * @param  {String} userEmailToReset The email to send the message
     * @return {Promise}                 Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    UserBuilder.prototype.sendResetPasswordEmail = function(userEmailToReset) {
        this.addResetPasswordEndpoint();
        this.params.method = services.method.GET;
        this.params.query = 'email=' + userEmailToReset;
        return services.request(this.params);
    };

    /**
     * Gets the logged user
     * @method
     * @memberOf oauth.UserMeBuilder
     * @return {Promise} Q promise that resolves to the logged User {Object} or rejects with a {@link SilkRoadError}
     */
    UserMeBuilder.prototype.getMe = function() {
        this.addMeEndpoint();
        this.params.method = services.method.GET;
        return services.request(this.params);
    };

    /**
     * Updates the logged user
     * @method
     * @memberOf oauth.UserMeBuilder
     * @param  {Object} modification    Json object with the modificacion of the user
     * @return {Promise}                Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    UserMeBuilder.prototype.updateMe = function(modification) {
        this.addMeEndpoint();
        this.params.method = services.method.PUT;
        this.params.data = modification;
        return services.request(this.params);
    };

    /**
     * Deletes the logged user
     * @method
     * @memberOf oauth.UserMeBuilder
     * @return {Promise}  Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    UserMeBuilder.prototype.deleteMe = function() {
        this.addMeEndpoint();
        this.params.method = services.method.DELETE;
        return services.request(this.params);
    };

    /**
     * Sends a email to the logged user to validate his email address
     * @method
     * @memberOf oauth.UserMeBuilder
     * @return {Promise}  Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    UserMeBuilder.prototype.sendValidateEmail = function() {
        this.addMeEndpoint();
        this.addValidateEndpoint();
        this.params.method = services.method.GET;
        return services.request(this.params, true);
    };

    /**
     * Validates the email of a user
     * @method
     * @memberOf oauth.UserMeBuilder
     * @return {Promise}  Q promise that resolves to undefined (void) or rejects with a {@link SilkRoadError}
     */
    UserMeBuilder.prototype.validateEmail = function() {
        this.addMeEndpoint();
        this.addValidateEndpoint();
        this.params.method = services.method.POST;
        return services.request(this.params, true);
    };

    UserMeBuilder.prototype.resetPassword = function(password) {
        this.addResetPasswordEndpoint();
        this.params.method = services.method.POST;
        this.params.data = password;
        return services.request(this.params);
    };

    UserMeBuilder.prototype.addMeEndpoint = function() {
        this.params.url += '/me';
    };

    UserMeBuilder.prototype.addValidateEndpoint = function() {
        this.params.url += '/validate';
    };

    UserBuilder.prototype.addResetPasswordEndpoint = UserMeBuilder.prototype.addResetPasswordEndpoint = function() {
        this.params.url += '/resetPassword';
    };

    return oauth;
});
</code></pre>
        </article>
    </section>





        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Fri Apr 11 2014 16:02:03 GMT+0200 (CEST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>